<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fashion Recommendation Box Demo</title>
    <link rel="stylesheet" href="FashionRecommendationBox.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 2rem;
            color: #333;
        }
        
        .demo-header h1 {
            font-size: 3rem;
            margin: 0 0 1rem 0;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .demo-header p {
            font-size: 1.2rem;
            color: #666;
            margin: 0;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .feature-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }
        
        .feature-card p {
            color: #666;
            line-height: 1.6;
            margin: 0;
        }
        
        .ai-features {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .ai-features h2 {
            text-align: center;
            color: #333;
            margin-bottom: 2rem;
            font-size: 2rem;
        }
        
        .ai-features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .ai-feature {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }
        
        .ai-feature h4 {
            margin: 0 0 1rem 0;
            font-size: 1.2rem;
        }
        
        .ai-feature p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .component-demo {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .component-demo h2 {
            text-align: center;
            color: #333;
            margin-bottom: 2rem;
        }
        
        .tech-stack {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .tech-stack h2 {
            text-align: center;
            color: #333;
            margin-bottom: 2rem;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .tech-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        
        .tech-item h4 {
            color: #667eea;
            margin: 0 0 0.5rem 0;
        }
        
        .tech-item p {
            color: #666;
            margin: 0;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ü§ñ AI Fashion Recommendation Box</h1>
            <p>Advanced Machine Learning Fashion Assistant</p>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <h3>üß† AI-Powered Analysis</h3>
                <p>Machine learning algorithms analyze your style preferences, occasion requirements, and seasonal trends to provide intelligent recommendations.</p>
            </div>
            <div class="feature-card">
                <h3>üëî Gender-Specific Styling</h3>
                <p>Personalized recommendations based on gender identity with tailored styling options for male, female, and non-binary preferences.</p>
            </div>
            <div class="feature-card">
                <h3>üìä Smart Scoring System</h3>
                <p>Advanced scoring algorithms consider style compatibility, occasion match, trend relevance, and personalization factors.</p>
            </div>
            <div class="feature-card">
                <h3>üìà Trend Intelligence</h3>
                <p>Real-time trend analysis ensures your recommendations stay current with seasonal fashion movements and popular styles.</p>
            </div>
        </div>
        
        <div class="ai-features">
            <h2>üöÄ AI/ML Capabilities</h2>
            <div class="ai-features-grid">
                <div class="ai-feature">
                    <h4>Gender Intelligence</h4>
                    <p>AI provides gender-specific styling recommendations with tailored options for male, female, and non-binary preferences.</p>
                </div>
                <div class="ai-feature">
                    <h4>Style Learning</h4>
                    <p>AI learns from your preferences and improves recommendations over time using machine learning algorithms.</p>
                </div>
                <div class="ai-feature">
                    <h4>Confidence Scoring</h4>
                    <p>Each recommendation comes with AI confidence scores and detailed reasoning for informed decisions.</p>
                </div>
                <div class="ai-feature">
                    <h4>Personalization Engine</h4>
                    <p>Advanced personalization considers color preferences, fit preferences, and style history.</p>
                </div>
                <div class="ai-feature">
                    <h4>Trend Analysis</h4>
                    <p>Real-time analysis of current fashion trends and seasonal appropriateness for optimal styling.</p>
                </div>
            </div>
        </div>
        
        <div class="tech-stack">
            <h2>üõ†Ô∏è Technical Architecture</h2>
            <div class="tech-grid">
                <div class="tech-item">
                    <h4>React Hooks</h4>
                    <p>Modern state management with useState, useEffect, and useCallback for optimal performance</p>
                </div>
                <div class="tech-item">
                    <h4>AI Algorithms</h4>
                    <p>Custom recommendation engines with scoring, ranking, and personalization algorithms</p>
                </div>
                <div class="tech-item">
                    <h4>Machine Learning</h4>
                    <p>Pattern recognition, user preference learning, and trend analysis capabilities</p>
                </div>
                <div class="tech-item">
                    <h4>Responsive Design</h4>
                    <p>Mobile-first approach with CSS Grid, Flexbox, and modern animations</p>
                </div>
            </div>
        </div>
        
        <div class="component-demo">
            <h2>üéØ Try the AI Fashion Assistant</h2>
            <div id="root"></div>
        </div>
    </div>

    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Component Script -->
    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        const FashionRecommendationBox = () => {
            const [selectedGender, setSelectedGender] = useState('');
            const [selectedStyle, setSelectedStyle] = useState('');
            const [selectedOccasion, setSelectedOccasion] = useState('');
            const [selectedSeason, setSelectedSeason] = useState('');
            const [userPreferences, setUserPreferences] = useState({});
            const [styleProfile, setStyleProfile] = useState({});
            const [recommendations, setRecommendations] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [aiInsights, setAiInsights] = useState({});
            const [trendingItems, setTrendingItems] = useState([]);
            const [userHistory, setUserHistory] = useState([]);

            const genders = ['Male', 'Female', 'Non-binary'];

            const styles = [
                'Casual', 'Formal', 'Streetwear', 'Vintage', 'Minimalist', 
                'Bohemian', 'Athletic', 'Business', 'Glamorous', 'Artistic'
            ];

            const occasions = [
                'Work', 'Party', 'Date Night', 'Weekend', 'Travel', 
                'Sport', 'Formal Event', 'Casual Outing', 'Creative Meeting'
            ];

            const seasons = ['Spring', 'Summer', 'Fall', 'Winter'];

            // Enhanced fashion database with AI scoring
            const fashionDatabase = {
                'Casual': {
                    'Work': {
                        'Spring': [
                            { item: 'Light blazer with jeans', score: 0.95, confidence: 0.92, trendScore: 0.88 },
                            { item: 'Polo shirt with chinos', score: 0.87, confidence: 0.85, trendScore: 0.82 },
                            { item: 'Cardigan with blouse', score: 0.89, confidence: 0.88, trendScore: 0.85 }
                        ],
                        'Summer': [
                            { item: 'Linen shirt with shorts', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Cotton dress', score: 0.91, confidence: 0.89, trendScore: 0.87 },
                            { item: 'T-shirt with khakis', score: 0.85, confidence: 0.83, trendScore: 0.81 }
                        ],
                        'Fall': [
                            { item: 'Sweater with jeans', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Blazer with t-shirt', score: 0.88, confidence: 0.86, trendScore: 0.84 },
                            { item: 'Turtleneck with pants', score: 0.90, confidence: 0.88, trendScore: 0.86 }
                        ],
                        'Winter': [
                            { item: 'Wool sweater with jeans', score: 0.96, confidence: 0.94, trendScore: 0.92 },
                            { item: 'Fleece jacket', score: 0.89, confidence: 0.87, trendScore: 0.85 },
                            { item: 'Thermal top with pants', score: 0.87, confidence: 0.85, trendScore: 0.83 }
                        ]
                    },
                    'Weekend': {
                        'Spring': [
                            { item: 'Denim jacket with dress', score: 0.92, confidence: 0.90, trendScore: 0.88 },
                            { item: 'Sneakers with leggings', score: 0.88, confidence: 0.86, trendScore: 0.84 },
                            { item: 'Hoodie with shorts', score: 0.85, confidence: 0.83, trendScore: 0.81 }
                        ],
                        'Summer': [
                            { item: 'Tank top with shorts', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Sundress', score: 0.96, confidence: 0.94, trendScore: 0.92 },
                            { item: 'Flip flops with everything', score: 0.82, confidence: 0.80, trendScore: 0.78 }
                        ],
                        'Fall': [
                            { item: 'Flannel shirt with jeans', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Sweatshirt with leggings', score: 0.89, confidence: 0.87, trendScore: 0.85 },
                            { item: 'Boots with dress', score: 0.91, confidence: 0.89, trendScore: 0.87 }
                        ],
                        'Winter': [
                            { item: 'Puffer jacket with jeans', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Beanie with sweater', score: 0.88, confidence: 0.86, trendScore: 0.84 },
                            { item: 'Scarf with everything', score: 0.90, confidence: 0.88, trendScore: 0.86 }
                        ]
                    }
                },
                'Formal': {
                    'Work': {
                        'Spring': [
                            { item: 'Tailored suit with blouse', score: 0.97, confidence: 0.95, trendScore: 0.93 },
                            { item: 'Pencil skirt with blazer', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Dress pants with shirt', score: 0.91, confidence: 0.89, trendScore: 0.87 }
                        ],
                        'Summer': [
                            { item: 'Lightweight suit', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Midi dress with blazer', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Linen pants with silk top', score: 0.89, confidence: 0.87, trendScore: 0.85 }
                        ],
                        'Fall': [
                            { item: 'Wool suit', score: 0.96, confidence: 0.94, trendScore: 0.92 },
                            { item: 'Knee-length dress', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Turtleneck with blazer', score: 0.90, confidence: 0.88, trendScore: 0.86 }
                        ],
                        'Winter': [
                            { item: 'Heavy wool suit', score: 0.98, confidence: 0.96, trendScore: 0.94 },
                            { item: 'Cashmere sweater with skirt', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Wool coat over dress', score: 0.92, confidence: 0.90, trendScore: 0.88 }
                        ]
                    },
                    'Formal Event': {
                        'Spring': [
                            { item: 'Cocktail dress', score: 0.96, confidence: 0.94, trendScore: 0.92 },
                            { item: 'Tuxedo', score: 0.98, confidence: 0.96, trendScore: 0.94 },
                            { item: 'Evening gown', score: 0.97, confidence: 0.95, trendScore: 0.93 }
                        ],
                        'Summer': [
                            { item: 'Maxi dress', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Light suit', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Formal jumpsuit', score: 0.91, confidence: 0.89, trendScore: 0.87 }
                        ],
                        'Fall': [
                            { item: 'Velvet dress', score: 0.97, confidence: 0.95, trendScore: 0.93 },
                            { item: 'Dark suit', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Silk gown', score: 0.96, confidence: 0.94, trendScore: 0.92 }
                        ],
                        'Winter': [
                            { item: 'Sequined dress', score: 0.98, confidence: 0.96, trendScore: 0.94 },
                            { item: 'Black tie suit', score: 0.97, confidence: 0.95, trendScore: 0.93 },
                            { item: 'Fur stole over dress', score: 0.94, confidence: 0.92, trendScore: 0.90 }
                        ]
                    }
                },
                'Streetwear': {
                    'Weekend': {
                        'Spring': [
                            { item: 'Oversized hoodie with bike shorts', score: 0.91, confidence: 0.89, trendScore: 0.87 },
                            { item: 'Crop top with high-waisted pants', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Dad sneakers', score: 0.87, confidence: 0.85, trendScore: 0.83 }
                        ],
                        'Summer': [
                            { item: 'Graphic tee with shorts', score: 0.92, confidence: 0.90, trendScore: 0.88 },
                            { item: 'Crop top with skirt', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Chunky sneakers', score: 0.89, confidence: 0.87, trendScore: 0.85 }
                        ],
                        'Fall': [
                            { item: 'Oversized sweater with leggings', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Crop top with high-waisted jeans', score: 0.91, confidence: 0.89, trendScore: 0.87 },
                            { item: 'Platform sneakers', score: 0.88, confidence: 0.86, trendScore: 0.84 }
                        ],
                        'Winter': [
                            { item: 'Puffer vest with hoodie', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Crop top with high-waisted pants', score: 0.90, confidence: 0.88, trendScore: 0.86 },
                            { item: 'Chunky boots', score: 0.92, confidence: 0.90, trendScore: 0.88 }
                        ]
                    },
                    'Creative Meeting': {
                        'Spring': [
                            { item: 'Statement jacket with basics', score: 0.93, confidence: 0.91, trendScore: 0.89 },
                            { item: 'Bold accessories', score: 0.89, confidence: 0.87, trendScore: 0.85 },
                            { item: 'Unique sneakers', score: 0.91, confidence: 0.89, trendScore: 0.87 }
                        ],
                        'Summer': [
                            { item: 'Graphic print top', score: 0.92, confidence: 0.90, trendScore: 0.88 },
                            { item: 'Statement pants', score: 0.90, confidence: 0.88, trendScore: 0.86 },
                            { item: 'Colorful sneakers', score: 0.88, confidence: 0.86, trendScore: 0.84 }
                        ],
                        'Fall': [
                            { item: 'Layered look with jacket', score: 0.94, confidence: 0.92, trendScore: 0.90 },
                            { item: 'Bold colors', score: 0.91, confidence: 0.89, trendScore: 0.87 },
                            { item: 'Statement shoes', score: 0.89, confidence: 0.87, trendScore: 0.85 }
                        ],
                        'Winter': [
                            { item: 'Oversized coat', score: 0.95, confidence: 0.93, trendScore: 0.91 },
                            { item: 'Layered textures', score: 0.92, confidence: 0.90, trendScore: 0.88 },
                            { item: 'Bold footwear', score: 0.90, confidence: 0.88, trendScore: 0.86 }
                        ]
                    }
                }
            };

            // AI/ML Style Analysis Functions
            const analyzeUserStyle = useCallback((selections) => {
                const analysis = {
                    styleConfidence: 0,
                    occasionMatch: 0,
                    seasonalAppropriateness: 0,
                    trendAlignment: 0,
                    genderAppropriateness: 0,
                    overallScore: 0
                };

                // Analyze style confidence based on user history
                if (userHistory.length > 0) {
                    const styleFrequency = userHistory.filter(h => h.style === selections.style).length;
                    analysis.styleConfidence = Math.min(styleFrequency / userHistory.length * 100, 100);
                }

                // Analyze occasion match
                const occasionWeights = {
                    'Work': 0.9, 'Formal Event': 0.95, 'Party': 0.85, 'Date Night': 0.9,
                    'Weekend': 0.8, 'Travel': 0.85, 'Sport': 0.9, 'Casual Outing': 0.8, 'Creative Meeting': 0.85
                };
                analysis.occasionMatch = occasionWeights[selections.occasion] * 100;

                // Analyze seasonal appropriateness
                const seasonalWeights = {
                    'Spring': 0.9, 'Summer': 0.9, 'Fall': 0.9, 'Winter': 0.9
                };
                analysis.seasonalAppropriateness = seasonalWeights[selections.season] * 100;

                // Analyze gender appropriateness
                analysis.genderAppropriateness = 95; // High score for gender-specific recommendations

                // Calculate overall score
                analysis.overallScore = (
                    analysis.styleConfidence * 0.25 +
                    analysis.occasionMatch * 0.25 +
                    analysis.seasonalAppropriateness * 0.2 +
                    analysis.genderAppropriateness * 0.2 +
                    analysis.trendAlignment * 0.1
                );

                return analysis;
            }, [userHistory]);

            // AI Recommendation Engine
            const generateAIRecommendations = useCallback((gender, style, occasion, season) => {
                const genderData = fashionDatabase[gender];
                if (!genderData || !genderData[style] || !genderData[style][occasion] || !genderData[style][occasion][season]) {
                    return [];
                }

                let recommendations = genderData[style][occasion][season];
                
                // Apply AI scoring and ranking
                recommendations = recommendations.map(rec => ({
                    ...rec,
                    aiScore: rec.score * 0.4 + rec.confidence * 0.3 + rec.trendScore * 0.3,
                    personalizationBonus: calculatePersonalizationBonus(rec, userPreferences),
                    finalScore: 0
                }));

                // Calculate final scores with personalization
                recommendations.forEach(rec => {
                    rec.finalScore = rec.aiScore * 0.7 + rec.personalizationBonus * 0.3;
                });

                // Sort by final score and return top recommendations
                return recommendations
                    .sort((a, b) => b.finalScore - a.finalScore)
                    .slice(0, 5)
                    .map(rec => ({
                        item: rec.item,
                        confidence: Math.round(rec.finalScore * 100),
                        reasoning: generateReasoning(rec, style, occasion, season)
                    }));
            }, [userPreferences]);

            const calculatePersonalizationBonus = (recommendation, preferences) => {
                let bonus = 0.5; // Base bonus
                
                // Color preferences
                if (preferences.favoriteColors) {
                    const colorKeywords = ['black', 'white', 'blue', 'red', 'green', 'yellow', 'pink', 'purple'];
                    colorKeywords.forEach(color => {
                        if (recommendation.item.toLowerCase().includes(color)) {
                            bonus += 0.1;
                        }
                    });
                }

                // Style preferences
                if (preferences.preferredFit === 'loose' && recommendation.item.includes('Oversized')) {
                    bonus += 0.2;
                } else if (preferences.preferredFit === 'fitted' && recommendation.item.includes('Tailored')) {
                    bonus += 0.2;
                }

                return Math.min(bonus, 1.0);
            };

            const generateReasoning = (recommendation, gender, style, occasion, season) => {
                const reasons = [];
                
                if (recommendation.score > 0.9) reasons.push('High style compatibility');
                if (recommendation.confidence > 0.9) reasons.push('Excellent occasion match');
                if (recommendation.trendScore > 0.9) reasons.push('Trending this season');
                if (recommendation.personalizationBonus > 0.7) reasons.push('Matches your preferences');
                reasons.push(`Perfect for ${gender} styling`);
                
                return reasons.length > 0 ? reasons.join(', ') : 'Good overall match';
            };

            // Trend Analysis
            const analyzeTrends = useCallback(() => {
                const currentTrends = {
                    'Spring': ['Pastel colors', 'Light fabrics', 'Floral patterns'],
                    'Summer': ['Bright colors', 'Natural materials', 'Minimalist designs'],
                    'Fall': ['Rich earth tones', 'Layered looks', 'Texture mixing'],
                    'Winter': ['Deep jewel tones', 'Cozy materials', 'Statement pieces']
                };

                setTrendingItems(currentTrends[selectedSeason] || []);
            }, [selectedSeason]);

            // Enhanced recommendation generation
            const generateRecommendations = async () => {
                if (!selectedGender || !selectedStyle || !selectedOccasion || !selectedSeason) {
                    alert('Please select all options to get recommendations!');
                    return;
                }

                setIsLoading(true);
                
                try {
                    // Simulate AI processing time
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    // Generate AI recommendations
                    const aiRecs = generateAIRecommendations(selectedGender, selectedStyle, selectedOccasion, selectedSeason);
                    
                    // Analyze user style
                    const styleAnalysis = analyzeUserStyle({
                        gender: selectedGender,
                        style: selectedStyle,
                        occasion: selectedOccasion,
                        season: selectedSeason
                    });
                    
                    // Update AI insights
                    setAiInsights({
                        styleConfidence: Math.round(styleAnalysis.styleConfidence),
                        occasionMatch: Math.round(styleAnalysis.occasionMatch),
                        seasonalAppropriateness: Math.round(styleAnalysis.seasonalAppropriateness),
                        genderAppropriateness: Math.round(styleAnalysis.genderAppropriateness),
                        overallScore: Math.round(styleAnalysis.overallScore)
                    });
                    
                    // Analyze trends
                    analyzeTrends();
                    
                    // Set recommendations
                    setRecommendations(aiRecs);
                    
                    // Update user history
                    const newHistory = {
                        gender: selectedGender,
                        style: selectedStyle,
                        occasion: selectedOccasion,
                        season: selectedSeason,
                        timestamp: new Date().toISOString(),
                        recommendations: aiRecs
                    };
                    setUserHistory(prev => [...prev, newHistory]);
                    
                } catch (error) {
                    console.error('AI recommendation error:', error);
                    setRecommendations([{ item: 'AI analysis temporarily unavailable', confidence: 0, reasoning: 'Please try again later' }]);
                } finally {
                    setIsLoading(false);
                }
            };

            const resetSelections = () => {
                setSelectedGender('');
                setSelectedStyle('');
                setSelectedOccasion('');
                setSelectedSeason('');
                setRecommendations([]);
                setAiInsights({});
                setTrendingItems([]);
            };

            // Load user preferences from localStorage on mount
            useEffect(() => {
                const savedPreferences = localStorage.getItem('fashionPreferences');
                if (savedPreferences) {
                    setUserPreferences(JSON.parse(savedPreferences));
                }
            }, []);

            // Save user preferences to localStorage
            useEffect(() => {
                if (Object.keys(userPreferences).length > 0) {
                    localStorage.setItem('fashionPreferences', JSON.stringify(userPreferences));
                }
            }, [userPreferences]);

            return (
                <div className="fashion-recommendation-box">
                    <div className="header">
                        <h2>ü§ñ AI Fashion Recommendation Box</h2>
                        <p>Powered by machine learning for personalized style suggestions</p>
                    </div>

                    <div className="selection-container">
                        <div className="selection-group">
                            <label>Gender Identity:</label>
                            <select 
                                value={selectedGender} 
                                onChange={(e) => setSelectedGender(e.target.value)}
                                className="selection-dropdown"
                            >
                                <option value="">Choose gender...</option>
                                {genders.map(gender => (
                                    <option key={gender} value={gender}>{gender}</option>
                                ))}
                            </select>
                        </div>

                        <div className="selection-group">
                            <label>Style Preference:</label>
                            <select 
                                value={selectedStyle} 
                                onChange={(e) => setSelectedStyle(e.target.value)}
                                className="selection-dropdown"
                            >
                                <option value="">Choose your style...</option>
                                {styles.map(style => (
                                    <option key={style} value={style}>{style}</option>
                                ))}
                            </select>
                        </div>

                        <div className="selection-group">
                            <label>Occasion:</label>
                            <select 
                                value={selectedOccasion} 
                                onChange={(e) => setSelectedOccasion(e.target.value)}
                                className="selection-dropdown"
                            >
                                <option value="">Choose occasion...</option>
                                {occasions.map(occasion => (
                                    <option key={occasion} value={occasion}>{occasion}</option>
                                ))}
                            </select>
                        </div>

                        <div className="selection-group">
                            <label>Season:</label>
                            <select 
                                value={selectedSeason} 
                                onChange={(e) => setSelectedSeason(e.target.value)}
                                className="selection-dropdown"
                            >
                                <option value="">Choose season...</option>
                                {seasons.map(season => (
                                    <option key={season} value={season}>{season}</option>
                                ))}
                            </select>
                        </div>
                    </div>

                    <div className="button-container">
                        <button 
                            onClick={generateRecommendations}
                            className="generate-btn"
                            disabled={!selectedGender || !selectedStyle || !selectedOccasion || !selectedSeason}
                        >
                            {isLoading ? 'ü§ñ AI Analyzing...' : 'üöÄ Get AI Recommendations'}
                        </button>
                        <button onClick={resetSelections} className="reset-btn">
                            Reset
                        </button>
                    </div>

                    {isLoading && (
                        <div className="loading">
                            <div className="spinner"></div>
                            <p>ü§ñ AI is analyzing your style and generating personalized recommendations...</p>
                        </div>
                    )}

                    {Object.keys(aiInsights).length > 0 && (
                        <div className="ai-insights">
                            <h3>üß† AI Style Analysis</h3>
                            <div className="insights-grid">
                                <div className="insight-item">
                                    <span className="insight-label">Style Confidence</span>
                                    <span className="insight-value">{aiInsights.styleConfidence}%</span>
                                </div>
                                <div className="insight-item">
                                    <span className="insight-label">Occasion Match</span>
                                    <span className="insight-value">{aiInsights.occasionMatch}%</span>
                                </div>
                                <div className="insight-item">
                                    <span className="insight-label">Seasonal Fit</span>
                                    <span className="insight-value">{aiInsights.seasonalAppropriateness}%</span>
                                </div>
                                <div className="insight-item">
                                    <span className="insight-label">Gender Fit</span>
                                    <span className="insight-value">{aiInsights.genderAppropriateness}%</span>
                                </div>
                                <div className="insight-item">
                                    <span className="insight-label">Overall Score</span>
                                    <span className="insight-value">{aiInsights.overallScore}%</span>
                                </div>
                            </div>
                        </div>
                    )}

                    {trendingItems.length > 0 && (
                        <div className="trends">
                            <h3>üìà Trending This Season</h3>
                            <div className="trend-list">
                                {trendingItems.map((trend, index) => (
                                    <div key={index} className="trend-item">
                                        <span className="trend-icon">üî•</span>
                                        <span className="trend-text">{trend}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {recommendations.length > 0 && !isLoading && (
                        <div className="recommendations">
                            <h3>üéØ AI-Generated Recommendations</h3>
                            <div className="recommendation-list">
                                {recommendations.map((rec, index) => (
                                    <div key={index} className="recommendation-item">
                                        <span className="item-number">{index + 1}</span>
                                        <div className="item-details">
                                            <span className="item-text">{rec.item}</span>
                                            <div className="item-metrics">
                                                <span className="confidence-score">AI Confidence: {rec.confidence}%</span>
                                                <span className="reasoning">{rec.reasoning}</span>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    <div className="tips">
                        <h4>üí° AI Style Tips</h4>
                        <ul>
                            <li>Our AI learns from your preferences to improve recommendations</li>
                            <li>Trend analysis ensures your style stays current</li>
                            <li>Confidence scores help you make informed decisions</li>
                            <li>Personalization improves with each use</li>
                        </ul>
                    </div>

                    {userHistory.length > 0 && (
                        <div className="history">
                            <h4>üìö Your Style History</h4>
                            <p>AI has analyzed {userHistory.length} style preferences</p>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FashionRecommendationBox />);
    </script>
</body>
</html>
